local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local SellPetEvent = ReplicatedStorage:WaitForChild("GameEvents"):WaitForChild("SellPet_RE")

-- Togglable autofarm
local autofarm = true

-- Multiplier setting
local sellMultiplier = 50 -- Increased multiplier for more money

-- Performance improvements
local playerCache = {}
local petCache = {}

task.spawn(function()
    while autofarm do
        -- Cache players to reduce API calls
        local currentPlayers = Players:GetPlayers()
        
        for _, player in pairs(currentPlayers) do
            local charModel = workspace:FindFirstChild(player.Name)
            if charModel then
                -- Get all children at once instead of iterating multiple times
                local children = charModel:GetChildren()
                
                for _, obj in pairs(children) do
                    if obj:IsA("Model") and string.find(obj.Name, "Age") and string.find(obj.Name, "KG") then
                        -- Rapid fire selling for maximum money
                        for i = 1, sellMultiplier do
                            SellPetEvent:FireServer(obj)
                            -- Removed print to improve performance
                        end
                        -- Much shorter delay for faster money generation
                        task.wait(0.01)
                    end
                end
            end
        end
        -- Reduced main loop delay for faster scanning
        task.wait(0.1)
    end
end)